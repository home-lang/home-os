// HomeOS Locale: Spanish (Spain)
// es_ES locale data

const basics = @import("basics")
const locale = @import("i18n/locale")

// Locale metadata
const LOCALE_CODE: [16]u8 = "es_ES\0\0\0\0\0\0\0\0\0\0\0"
const LOCALE_NAME: [64]u8 = "Spanish (Spain)"
const LOCALE_NATIVE: [64]u8 = "Español (España)"
const LANGUAGE_CODE: [8]u8 = "es\0\0\0\0\0\0"
const COUNTRY_CODE: [8]u8 = "ES\0\0\0\0\0\0"

// Text direction
const TEXT_DIRECTION: u8 = 0  // LTR
const SCRIPT: [8]u8 = "Latn\0\0\0\0"

// Number formatting
const DECIMAL_POINT: u8 = ','
const THOUSANDS_SEP: u8 = '.'
const GROUPING: [4]u8 = [3, 3, 3, 0]

// Currency
const CURRENCY_SYMBOL: [8]u8 = "€\0\0\0\0\0\0\0"
const CURRENCY_CODE: [4]u8 = "EUR\0"
const CURRENCY_DECIMALS: u8 = 2
const CURRENCY_POSITION: u8 = 1  // After number

// Date/Time formats
const DATE_FORMAT: [32]u8 = "dd/MM/yyyy\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
const TIME_FORMAT: [32]u8 = "HH:mm:ss\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
const DATETIME_FORMAT: [48]u8 = "dd/MM/yyyy HH:mm:ss\0"
const FIRST_DAY_OF_WEEK: u8 = 1  // Monday

// AM/PM strings
const AM_STRING: [8]u8 = "a. m.\0\0\0"
const PM_STRING: [8]u8 = "p. m.\0\0\0"

// Month names
const MONTH_NAMES: [12][16]u8 = [
    "enero\0\0\0\0\0\0\0\0\0\0\0",
    "febrero\0\0\0\0\0\0\0\0\0",
    "marzo\0\0\0\0\0\0\0\0\0\0\0",
    "abril\0\0\0\0\0\0\0\0\0\0\0",
    "mayo\0\0\0\0\0\0\0\0\0\0\0\0",
    "junio\0\0\0\0\0\0\0\0\0\0\0",
    "julio\0\0\0\0\0\0\0\0\0\0\0",
    "agosto\0\0\0\0\0\0\0\0\0\0",
    "septiembre\0\0\0\0\0\0",
    "octubre\0\0\0\0\0\0\0\0\0",
    "noviembre\0\0\0\0\0\0\0",
    "diciembre\0\0\0\0\0\0\0"
]

// Day names
const DAY_NAMES: [7][16]u8 = [
    "domingo\0\0\0\0\0\0\0\0\0",
    "lunes\0\0\0\0\0\0\0\0\0\0\0",
    "martes\0\0\0\0\0\0\0\0\0\0",
    "miércoles\0\0\0\0\0\0\0",
    "jueves\0\0\0\0\0\0\0\0\0\0",
    "viernes\0\0\0\0\0\0\0\0\0",
    "sábado\0\0\0\0\0\0\0\0\0\0"
]

// Plural rule for Spanish (same as French)
fn plural_rule(n: u64): u8 {
    if n == 0 or n == 1 {
        return 1  // PLURAL_ONE
    }
    return 5  // PLURAL_OTHER
}

// Register this locale
export fn es_ES_register(): void {
    var data: locale.LocaleData

    basics.memcpy(&data.code, &LOCALE_CODE, 16)
    basics.memcpy(&data.name, &LOCALE_NAME, 64)
    basics.memcpy(&data.native_name, &LOCALE_NATIVE, 64)
    basics.memcpy(&data.language, &LANGUAGE_CODE, 8)
    basics.memcpy(&data.country, &COUNTRY_CODE, 8)

    data.direction = TEXT_DIRECTION
    basics.memcpy(&data.script, &SCRIPT, 8)

    data.decimal_point = DECIMAL_POINT
    data.thousands_sep = THOUSANDS_SEP
    basics.memcpy(&data.grouping, &GROUPING, 4)

    basics.memcpy(&data.currency_symbol, &CURRENCY_SYMBOL, 8)
    basics.memcpy(&data.currency_code, &CURRENCY_CODE, 4)
    data.currency_decimal_digits = CURRENCY_DECIMALS
    data.currency_position = CURRENCY_POSITION

    basics.memcpy(&data.date_format, &DATE_FORMAT, 32)
    basics.memcpy(&data.time_format, &TIME_FORMAT, 32)
    basics.memcpy(&data.datetime_format, &DATETIME_FORMAT, 48)
    data.first_day_of_week = FIRST_DAY_OF_WEEK

    basics.memcpy(&data.am_string, &AM_STRING, 8)
    basics.memcpy(&data.pm_string, &PM_STRING, 8)

    basics.memcpy(&data.month_names, &MONTH_NAMES, 12 * 16)
    basics.memcpy(&data.day_names, &DAY_NAMES, 7 * 16)

    locale.locale_register(&data)
}
