# HomeOS Kernel Profile: Desktop
# Target: 64MB kernel footprint, 512MB+ system RAM
# Use case: Full desktop experience with GUI, multimedia, and development tools

# ============================================================================
# Profile Metadata
# ============================================================================
PROFILE=desktop
PROFILE_DESCRIPTION="Full desktop with GUI, development tools, and multimedia"
TARGET_KERNEL_MB=64
TARGET_SYSTEM_MB=512

# ============================================================================
# Core Limits (Full desktop)
# ============================================================================
MAX_PROCESSES=512
MAX_FILES=4096
MAX_SOCKETS=256
BUFFER_CACHE_MB=64
SLAB_CACHE_MB=16

# ============================================================================
# Memory Management
# ============================================================================
FEATURE_MM_ZRAM=yes
FEATURE_MM_SLAB=yes
FEATURE_MM_SWAP=yes
FEATURE_MM_MEMCG=yes
FEATURE_MM_HUGEPAGES=yes

# ============================================================================
# Process Management
# ============================================================================
FEATURE_PROCESS_SMP=yes
FEATURE_PROCESS_CGROUPS=yes
FEATURE_PROCESS_CONTAINERS=yes

# ============================================================================
# Security (Full)
# ============================================================================
FEATURE_SEC_CAPABILITIES=yes
FEATURE_SEC_SECCOMP=yes
FEATURE_SEC_AUDIT=yes
FEATURE_SEC_SMEP_SMAP=yes
FEATURE_SEC_KASAN=no

# ============================================================================
# Networking (Full)
# ============================================================================
FEATURE_NET_TCP=yes
FEATURE_NET_UDP=yes
FEATURE_NET_ICMP=yes
FEATURE_NET_DHCP=yes
FEATURE_NET_DNS=yes
FEATURE_NET_HTTP=yes
FEATURE_NET_TLS=yes
FEATURE_NET_WEBSOCKET=yes
FEATURE_NET_IPV6=yes
FEATURE_NET_MQTT=no
FEATURE_NET_NFS=yes
FEATURE_NET_SMB=yes

# ============================================================================
# File Systems (Full)
# ============================================================================
FEATURE_FS_VFS=yes
FEATURE_FS_FAT32=yes
FEATURE_FS_EXT2=yes
FEATURE_FS_TMPFS=yes
FEATURE_FS_PROCFS=yes
FEATURE_FS_SYSFS=yes
FEATURE_FS_DEVFS=yes
FEATURE_FS_BTRFS=yes
FEATURE_FS_NTFS=yes
FEATURE_FS_ISO9660=yes

# ============================================================================
# Hardware Drivers (Full)
# ============================================================================
FEATURE_DRV_ATA=yes
FEATURE_DRV_AHCI=yes
FEATURE_DRV_NVME=yes
FEATURE_DRV_SDMMC=yes
FEATURE_DRV_RAID=no
FEATURE_DRV_CDROM=yes
FEATURE_DRV_FLOPPY=no

FEATURE_DRV_KEYBOARD=yes
FEATURE_DRV_MOUSE=yes
FEATURE_DRV_TOUCHPAD=yes
FEATURE_DRV_TOUCHSCREEN=yes
FEATURE_DRV_GAMEPAD=yes

FEATURE_DRV_E1000=yes
FEATURE_DRV_RTL8139=yes
FEATURE_DRV_VIRTIO_NET=yes
FEATURE_DRV_WIFI=yes
FEATURE_DRV_BLUETOOTH=yes

FEATURE_DRV_USB_UHCI=yes
FEATURE_DRV_USB_EHCI=yes
FEATURE_DRV_USB_XHCI=yes
FEATURE_DRV_USB_HUB=yes

FEATURE_DRV_VGA=yes
FEATURE_DRV_FRAMEBUFFER=yes
FEATURE_DRV_GPU=yes

FEATURE_DRV_PCI=yes
FEATURE_DRV_ACPI=yes
FEATURE_DRV_RTC=yes
FEATURE_DRV_TIMER=yes
FEATURE_DRV_SERIAL=yes

FEATURE_DRV_GPIO=yes
FEATURE_DRV_I2C=yes
FEATURE_DRV_SPI=yes
FEATURE_DRV_PWM=yes
FEATURE_DRV_AUDIO=yes
FEATURE_DRV_CAMERA=yes

FEATURE_DRV_BATTERY=yes
FEATURE_DRV_TPM=yes
FEATURE_DRV_SENSORS=yes

# ============================================================================
# GUI (Full)
# ============================================================================
FEATURE_GUI_CRAFT=yes
FEATURE_GUI_COMPOSITOR=yes
FEATURE_GUI_VULKAN=yes
FEATURE_GUI_OPENGL=yes

GUI_MAX_WIDTH=3840
GUI_MAX_HEIGHT=2160
GUI_DEFAULT_WIDTH=1920
GUI_DEFAULT_HEIGHT=1080
GUI_COLOR_DEPTH=32

# ============================================================================
# Performance & Debug
# ============================================================================
FEATURE_PERF_BOOT_OPT=yes
FEATURE_PERF_PROFILER=yes
FEATURE_PERF_ASYNC_IO=yes

FEATURE_DEBUG_GDB=yes
FEATURE_DEBUG_PANIC=yes
FEATURE_DEBUG_MEMLEAK=no

# ============================================================================
# Optimization
# ============================================================================
OPTIMIZE=ReleaseSafe
STRIP_DEBUG=yes
LTO=no
