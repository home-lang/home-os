// home-os Basename
// Strip directory from filename

import "../../kernel/src/core/foundation.home" as foundation

export fn basename_main(path: u64) {
  var last_slash: u32 = 0
  var i: u32 = 0
  
  while i < 256 {
    var ch: u8 = @intToPtr(path + i, u8)
    if ch == 0 { break }
    if ch == '/' {
      last_slash = i + 1
    }
    i = i + 1
  }
  
  foundation.vga_write_string(path + last_slash)
  foundation.vga_write_string("\n")
}
