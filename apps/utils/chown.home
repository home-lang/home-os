// home-os Chown
// Change file ownership

import "../../kernel/src/core/foundation.home" as foundation
import "../../kernel/src/core/filesystem.home" as filesystem

export fn chown_main(uid: u32, gid: u32, file: u64) {
  foundation.vga_write_string("=== Chown ===\n\n")
  foundation.vga_write_string("Setting owner ")
  foundation.vga_write_string(":")
  foundation.vga_write_string(" on ")
  foundation.vga_write_string(file)
  foundation.vga_write_string("\n")
  
  var result: u32 = filesystem.vfs_chown(file, uid, gid)
  
  if result == 0 {
    foundation.vga_write_string("Success!\n")
  } else {
    foundation.vga_write_string("Failed!\n")
  }
}
