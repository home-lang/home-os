// home-os Pwd
// Print working directory

import "../../kernel/src/core/foundation.home" as foundation

var current_dir: [u8; 256] = "/home/user"

export fn pwd_main() {
  foundation.vga_write_string(@ptrFromInt(current_dir))
  foundation.vga_write_string("\n")
}

export fn pwd_set(path: u64) {
  var i: u32 = 0
  while i < 256 {
    current_dir[i] = @intToPtr(path + i, u8)
    if current_dir[i] == 0 { break }
    i = i + 1
  }
}
